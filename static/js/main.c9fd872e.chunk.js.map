{"version":3,"sources":["../../src/index.tsx","Components/Home/index.tsx","Components/OtherHome/index.tsx","App.tsx","index.tsx"],"names":["useUrlState","varName","defaultVal","React","state","setState","useSearchParams","searchParams","setSearchParams","JSON","val","URLSearchParams","window","Home","name","id","user","className","to","OtherHome","App","path","element","ReactDOM","render","document","getElementById"],"mappings":"8MAGgBA,EACdC,EACAC,GAEA,MAA0BC,aAA1B,GAAOC,EAAP,KAAcC,EAAd,KACA,EAAwCC,cAAjCC,EAAP,KAAqBC,EAArB,KAEAL,eAAgB,WACd,GAAII,WAA8BE,eAAlC,GAGA,GACEF,UACAA,WAA8BE,eAFhC,GAGE,CACA,IAAMC,EAAMH,MAAZ,GACA,OAAIG,QAAJ,IAAIA,KAAJ,QACEL,EAASI,WAATJ,SAGFE,QAA0BE,eAA1BF,IACAC,KACAH,OAED,CAACH,EAAYD,EAASG,EAAOG,EAjBhCJ,IAyBA,MAAO,CAACC,EANY,SAACM,GACnB,IAAMH,EAAe,IAAII,gBAAgBC,gBAAzC,QAGA,OAFAL,QAA0BE,eAA1BF,IACAC,KACOH,EAAP,KCxBG,IAAMQ,EAAO,WAClB,IAIA,EAAwBb,EAAY,QAAQ,GAA5C,mBACA,GADA,UACwBA,EAAY,OALV,CACxBc,KAAM,QACNC,GAAI,UAGN,mBAAOC,EAAP,UAEA,OACE,oCACE,yBAAKC,UAAU,OACb,4BAAQA,UAAU,cAChB,2CAAUD,QAAV,IAAUA,OAAV,EAAUA,EAAMF,MAChB,yCAAQE,QAAR,IAAQA,OAAR,EAAQA,EAAMD,IACd,kBAAC,IAAD,CAAMG,GAAG,MAAT,YCdGC,EAAY,WACvB,IAIA,EAAwBnB,EAAY,QAJV,CACxBc,KAAM,QACNC,GAAI,SAEN,mBAAOC,EAAP,UAEA,OACE,oCACE,yBAAKC,UAAU,OACb,4BAAQA,UAAU,cAChB,2CAAUD,QAAV,IAAUA,OAAV,EAAUA,EAAMF,MAChB,yCAAQE,QAAR,IAAQA,OAAR,EAAQA,EAAMD,IACd,kBAAC,IAAD,CAAMG,GAAG,KAAT,YCRKE,MATf,WACE,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,IAAIC,QAAS,kBAAC,EAAD,QACzB,kBAAC,IAAD,CAAOD,KAAK,KAAKC,QAAS,kBAAC,EAAD,UCJhCC,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.c9fd872e.chunk.js","sourcesContent":["import React from 'react'\nimport { useSearchParams } from 'react-router-dom'\n\nexport function useUrlState<T>(\n  varName: string,\n  defaultVal: T\n): [T, (val: T) => void] {\n  const [state, setState] = React.useState<T>(defaultVal)\n  const [searchParams, setSearchParams] = useSearchParams()\n\n  React.useEffect(() => {\n    if (searchParams.get(varName) === JSON.stringify(state)) {\n      return\n    }\n    if (\n      searchParams.has(varName) &&\n      searchParams.get(varName) !== JSON.stringify(state)\n    ) {\n      const val = searchParams.get(varName)\n      if (val?.length) {\n        setState(JSON.parse(val))\n      }\n    } else {\n      searchParams.set(varName, JSON.stringify(defaultVal))\n      setSearchParams(searchParams)\n      setState(defaultVal)\n    }\n  }, [defaultVal, varName, state, searchParams, setSearchParams])\n\n  const updateState = (val: T) => {\n    const searchParams = new URLSearchParams(window.location.search)\n    searchParams.set(varName, JSON.stringify(val))\n    setSearchParams(searchParams)\n    return setState(val)\n  }\n  return [state, updateState]\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { useUrlState } from 'use-urlstate'\n\ninterface User {\n  name: string\n  id: string\n}\n\nexport const Home = () => {\n  const defaultUser: User = {\n    name: 'james',\n    id: '1234'\n  }\n  const [open, setOpen] = useUrlState('open', false)\n  const [user, setUser] = useUrlState('user', defaultUser)\n\n  return (\n    <>\n      <div className='App'>\n        <header className='App-header'>\n          <p>Name: {user?.name}</p>\n          <p>Id: {user?.id}</p>\n          <Link to='/2'>Home</Link>\n        </header>\n      </div>\n    </>\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { useUrlState } from 'use-urlstate'\n\ninterface User {\n  name: string\n  id: string\n}\n\nexport const OtherHome = () => {\n  const defaultUser: User = {\n    name: 'james',\n    id: '1234'\n  }\n  const [user, setUser] = useUrlState('user2', defaultUser)\n\n  return (\n    <>\n      <div className='App'>\n        <header className='App-header'>\n          <p>Name: {user?.name}</p>\n          <p>Id: {user?.id}</p>\n          <Link to='/'>Home</Link>\n        </header>\n      </div>\n    </>\n  )\n}\n","import React from 'react'\nimport { Routes, Route } from 'react-router-dom'\nimport { Home } from './Components/Home'\nimport { OtherHome } from './Components/OtherHome'\n\nfunction App() {\n  return (\n    <Routes>\n      <Route path='/' element={<Home />} />\n      <Route path='/2' element={<OtherHome />} />\n    </Routes>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App'\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}